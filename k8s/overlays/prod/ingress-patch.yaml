# ========================================
# Ingress Patches for Production
# ========================================

apiVersion: networking.k8s.io/v1
kind: Ingress
metadata:
  name: openmarket-ingress
  annotations:
    alb.ingress.kubernetes.io/load-balancer-name: openmarket-prod-alb
    alb.ingress.kubernetes.io/tags: Environment=prod,Project=openmarket,Critical=true
    # Enable WAF for production
    alb.ingress.kubernetes.io/wafv2-acl-arn: arn:aws:wafv2:ap-northeast-2:478266318018:regional/webacl/openmarket-prod-waf/<WAF_ID>
    # Enable AWS Shield for DDoS protection
    alb.ingress.kubernetes.io/shield-advanced-protection: "true"
spec:
  rules:
    - host: openmarket.example.com
    - host: api.openmarket.example.com
    - host: admin.openmarket.example.com
    - host: seller.openmarket.example.com
